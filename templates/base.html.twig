<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        
        <title>{% block title %}{% endblock %}</title>

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="geo.region" content="ES" >
        <meta name="keywords" content="opina, opinar, opiniones, profesores, universidad, asignaturas, califica, calificar,  evalua, evaluar, evaluaciones, valorar, valoraciones, valora, comentario, comentarios">

        <meta property="og:type" content="website" >
        <meta property="og:site_name" content="UniOpinions" >
        
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        {% block meta_description %}{% endblock %}

        <!-- Google tag (gtag.js) for GAnalytics-->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ME0D4YZ9K5"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ME0D4YZ9K5');
        </script>

        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}

    </head>
    <body class="bg-slate-50 dark:bg-slate-700 min-h-[100vh] flex flex-col">
        <header class="bg-slate-200 dark:bg-slate-800 drop-shadow-lg ">
            <nav class="flex flex-row items-center justify-between  text-black md:h-20">
                <a href="/" class="flex items-center justify-center m-5 mr-3">
                    <img src="/img/blogo4.png" alt="logo" id="logoBlack"
                    class="sm:w-14 sm:h-14 w-10 h-10 mr-2">
                    <img src="/img/wlogo4.png" alt="logo" id="logoWhite"
                    class="sm:w-14 sm:h-14 w-10 h-10 mr-2">
                    <div class="">
                        <h2 class="sm:text-4xl text-2xl text-black dark:text-white">UniOpinions</h2>
                    </div>
                    {# <img src="/img/banner1.png" alt="banner"
                    class="m-5 h-10"> #}
                </a>

                <div class="flex flex-row items-center justify-center whitespace-nowrap">
                    {% if app.user %}
                        <form method="POST" action="{{ path('app_logout') }}">
                            <button type="submit"
                            class="px-3 py-2 bg-white dark:bg-slate-500 rounded-md text-md sm:text-xl text-black dark:text-white">
                                Cerrar sesión
                            </button>
                        </form>
                    {% else %}
                        <a href="{{ path('app_login') }}">
                            <button class="sm:px-3 px-2 py-2 bg-white dark:bg-slate-500 rounded-md text-md sm:text-xl text-black dark:text-white">
                                Iniciar sesión
                            </button>
                        </a>
                    {% endif %}
                    
                    <button id="switchButton" class=" bg-white dark:bg-slate-500 rounded-md 
                    flex items-center justify-center md:hover:ring m-5 w-11 h-11 text-lg md:my-3 ">
                        <div id="moon" >    
                            <svg  class=" inline-block fill-black" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#ffffff}</style><path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"/></svg>
                        </div>
                        <div id="sun">
                            <svg  class=" inline-block " xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#ffffff}</style><path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"/></svg>
                        </div>
                    </button>
                </div>
                
            </nav>

            {% if app.user and app.user.isVerified == false %}
                <div class="bg-red-400 text-center flex items-center justify-center text-black sm:h-12 h-20 text-xl" 
                {# role="alert" #}
                >
                    <h3>
                        Tu cuenta no esta verificada y no puedes publicar comentarios. Por favor, verificala mediante el enlace que hemos enviado a tu e-mail. 
                    </h3>
                </div>
            {% endif %}

            {% for message in app.flashes('success') %}
                <div class="bg-green-400 text-center flex items-center justify-center text-black sm:h-12 h-20 text-xl">
                    {{ message }}
                </div>
            {% endfor %}

            {% for message in app.flashes('error') %}
                <div class="bg-red-400 text-center flex items-center justify-center text-black sm:h-12 h-20 text-xl">
                    {{ message }}
                </div>
            {% endfor %}

        </header>

        <main class="m-7 sm:m-11 min-h-[83vh]">
            {% block main %}{% endblock %}
        </main>

        <footer id="footer" class="bg-slate-300 mt-auto dark:bg-slate-800 text-base">

            {% if app.user %}
                <div class="text-center mt-5 dark:text-white">
                    <h4>Iniciada sesión como: {{ app.user.email }}</h4>
                </div>
            {% endif %}

            <div class="flex justify-center dark:text-white ">
                
                <div class="m-5 flex flex-col">
                    <h3 class="text-xl">Ayuda y Soporte</h3>
                    {# <a href="#" id="open_preferences_center">Actualizar preferencias de cookies</a> #}
                    <a href="mailto:contact@uniopinions.com">Contáctanos</a>
                    <a target="_blank" href="https://github.com/angeloyo/uniopinions">GitHub</a>
                    <a href="https://uniopinions.com/about">Sobre UniOpinions</a>
                    <a href="https://uniopinions.com/rules">Reglas</a>
                </div>

                <div class="m-5 flex flex-col ">
                    <h3 class="text-xl">Legal</h3>
                    <a target="_blank" href="/legal/legal-notice">Aviso Legal</a>
                    <a target="_blank" href="/legal/privacy-policy">Política de Privacidad</a>
                    <a target="_blank" href="/legal/cookies-policy">Política de Cookies</a>
                    <div class="flex flex-row">
                        <a href="#" id="toggleButton" class="z-10">Atribuciones</a>
                        <div id="attributionsLink" class="invisible absolute z-0">
                            <a target="_blank" class="ml-20" href="https://www.freepik.es/vector-gratis/medidor-satisfaccion-emoji-pequeno_44156211.htm#query=emojis%20rating&position=0&from_view=search&track=ais" target="_blank">
                                -> Emoticonos por juicy_fish en Freepik
                            </a> 
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        
        <script>
        document.getElementById('toggleButton').addEventListener('click', function(event) {
            event.preventDefault();
            var link = document.getElementById('attributionsLink');
            link.classList.toggle('invisible');
        });
         </script>

    </body>
</html>
